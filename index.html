<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>NVC Practice & Learning Tool</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Nonviolent Communication Practice Tool</h1>
            <p class="subtitle">Explore feelings, needs, and empathetic communication</p>
        </header>

        <section class="card intro-section">
            <h2>Introduction</h2>
            <button class="collapse-btn" aria-label="Toggle section">‚àí</button>
            <div class="card-content">
                <p><strong>Nonviolent Communication (NVC)</strong> is a compassionate approach to communication developed by Marshall B. Rosenberg.
                    It helps us connect with ourselves and others by focusing on universal human needs and feelings rather than judgments or demands.
                    NVC fosters understanding, empathy, and authentic expression, transforming conflicts into opportunities for connection.
                    Learn more at <a href="https://www.cnvc.org/" target="_blank" rel="noopener noreferrer">CNVC.org</a>.
                    This tool is inspired by Martijn Jansen's <a href="https://nvc-help.app/" target="_blank" rel="noopener noreferrer">NVC-Help.app</a>.</p>
            </div>
        </section>

        <!-- Section 1: Feeling Exploration Tool -->
        <section id="feeling-explorer" class="card">
            <h2>üéØ Feeling Explorer</h2>
            <button class="collapse-btn" aria-label="Toggle section">‚àí</button>
            <div class="card-content">
            <p class="description">Explore feelings organized by arousal (energy) and valence (pleasantness)</p>

            <div class="search-box">
                <input type="text" id="feeling-search" placeholder="Type to search feelings...">
            </div>

            <div class="feeling-categories">
                <button class="category-btn active" data-category="all">All</button>
                <button class="category-btn" data-category="highPleasant">High Energy + Pleasant</button>
                <button class="category-btn" data-category="highUnpleasant">High Energy + Unpleasant</button>
                <button class="category-btn" data-category="lowUnpleasant">Low Energy + Unpleasant</button>
                <button class="category-btn" data-category="lowPleasant">Low Energy + Pleasant</button>
            </div>

            <div class="circumplex-grid">
                <div class="quadrants-container">
                    <div class="quadrant q1" data-quadrant="highPleasant">
                        <h3>Energized & Pleasant</h3>
                        <div id="feelings-q1" class="feelings-grid"></div>
                    </div>
                    <div class="quadrant q2" data-quadrant="highUnpleasant">
                        <h3>Energized & Unpleasant</h3>
                        <div id="feelings-q2" class="feelings-grid"></div>
                    </div>
                    <div class="quadrant q3" data-quadrant="lowUnpleasant">
                        <h3>Tired & Unpleasant</h3>
                        <div id="feelings-q3" class="feelings-grid"></div>
                    </div>
                    <div class="quadrant q4" data-quadrant="lowPleasant">
                        <h3>Calm & Pleasant</h3>
                        <div id="feelings-q4" class="feelings-grid"></div>
                    </div>
                </div>
            </div>
            </div>
        </section>

        <!-- Section 2: Basic Human Needs -->
        <section id="needs-explorer" class="card">
            <h2>üíé Basic Human Needs</h2>
            <button class="collapse-btn" aria-label="Toggle section">‚àí</button>
            <div class="card-content">
            <p class="description">Discover which needs might be met or unmet</p>

            <div class="needs-categories">
                <button class="needs-category-btn active" data-needs-category="all">All Needs</button>
                <button class="needs-category-btn" data-needs-category="connection">Connection</button>
                <button class="needs-category-btn" data-needs-category="physical">Physical Well-being</button>
                <button class="needs-category-btn" data-needs-category="autonomy">Autonomy</button>
                <button class="needs-category-btn" data-needs-category="meaning">Meaning</button>
            </div>

            <div id="needs-list" class="needs-grid"></div>
            </div>
        </section>

        <!-- Section 3: Thought Transformer -->
        <section id="thought-transformer" class="card">
            <h2>üîç Thought Transformer</h2>
            <button class="collapse-btn" aria-label="Toggle section">‚àí</button>
            <div class="card-content">
            <p class="description">Transform quasi-feelings into internal feelings and needs</p>

            <div class="transformer-form">
                <div class="form-group">
                    <label>I feel...</label>
                    <select id="quasi-feeling-input">
                        <option value="">-- Select a quasi-feeling --</option>
                    </select>
                </div>

                <div id="transformer-result" class="transformer-output">
                    <div class="transformer-explanation">
                        <p><strong>Note:</strong> Words like "betrayed," "attacked," or "ignored" aren't true feelings‚Äîthey're interpretations about what others did. Let's explore the internal feelings and needs underneath.</p>
                    </div>
                </div>
            </div>
            </div>
        </section>

        <!-- Section 4: NVC Sentence Builder -->
        <section id="sentence-builder" class="card">
            <h2>üìù NVC Sentence Builder</h2>
            <button class="collapse-btn" aria-label="Toggle section">‚àí</button>
            <div class="card-content">
            <p class="description">Construct empathetic statements following NVC principles</p>

            <div class="perspective-toggle">
                <label>Perspective:</label>
                <button class="perspective-btn active" data-perspective="self">Expressing Myself</button>
                <button class="perspective-btn" data-perspective="empathy">Empathic Receiving</button>
            </div>

            <div class="builder-form">
                <div class="form-group">
                    <label id="observation-label">When I...</label>
                    <div class="observation-type-buttons">
                        <button class="obs-type-btn active" data-obs-type="see">see</button>
                        <button class="obs-type-btn" data-obs-type="hear">hear</button>
                        <button class="obs-type-btn" data-obs-type="think">think</button>
                        <button class="obs-type-btn" data-obs-type="notice">notice</button>
                    </div>
                    <textarea id="observation-input" placeholder="Describe what you observed (objective, without judgment)"></textarea>
                </div>

                <div class="form-group">
                    <label id="feeling-label">I feel...</label>
                    <div class="selection-with-clear">
                        <div id="feeling-display" class="selection-display">
                            <em>Select feelings from the Feeling Explorer above</em>
                        </div>
                        <button id="clear-feelings-btn" class="clear-selection-btn" title="Clear selected feelings">Clear</button>
                    </div>
                </div>

                <div class="form-group">
                    <label id="need-label">Because I need...</label>
                    <div class="selection-with-clear">
                        <div id="need-display" class="selection-display">
                            <em>Select needs from the Basic Human Needs section above</em>
                        </div>
                        <button id="clear-needs-btn" class="clear-selection-btn" title="Clear selected needs">Clear</button>
                    </div>
                </div>

                <div class="form-group">
                    <label id="request-label">Would you be willing to...</label>
                    <textarea id="request-input" placeholder="Make a specific, doable request"></textarea>
                </div>

                <div class="sentence-output">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
                        <h3 style="margin: 0;">Your NVC Statement:</h3>
                        <button id="copy-sentence-btn" class="copy-btn" title="Copy to clipboard" style="display: none;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                    <p id="constructed-sentence" class="sentence-result"></p>
                </div>
            </div>
            </div>
        </section>

    </div>

    <script src="nvc-data.js?v=1.1"></script>
    <script src="script.js?v=1.1"></script>
</body>
</html>
